<div class="app-shell" data-controller="sidebar">
  <%# Sidebar %>
  <aside class="sidebar" data-sidebar-target="panel">
    <div class="sidebar__top">
      <div class="sidebar__brand">SimpliCity App</div>

      <div class="sidebar__section">
        <div class="sidebar__label">REGIÃ“N</div>
        <select class="sidebar__select" data-sidebar-target="regionSelect" data-action="change->sidebar#regionChanged">
          <option>Seleccionar regiÃ³n...</option>
        </select>
      </div>

      <div class="sidebar__section">
        <div class="sidebar__label">COMUNA</div>
        <select class="sidebar__select" data-sidebar-target="municipalitySelect" data-action="change->sidebar#municipalityChanged">
          <option>Seleccionar comuna...</option>
        </select>
      </div>

      <div class="sidebar__section">
        <div class="sidebar__label">USO DE SUELO</div>
        <select class="sidebar__select" data-sidebar-target="useSelect" data-action="change->sidebar#useChanged" disabled>
          <option>Seleccionar uso de suelo</option>
        </select>
        <div class="sidebar__hint">
          Selecciona primero una comuna en el mapa o en el buscador
        </div>
      </div>

      <div class="sidebar__divider"></div>

      <div class="sidebar__section" data-sidebar-target="layerSection" hidden>
        <div class="sidebar__label">CAPAS DE DATOS</div>

        <div class="sidebar__layers">
          <button
            type="button"
            class="sidebar__layer-btn"
            data-action="click->sidebar#selectLayer"
          >
            ğŸ§± Superficie construida
          </button>

          <button
            type="button"
            class="sidebar__layer-btn"
            data-action="click->sidebar#selectLayer"
          >
            ğŸ  Unidades construidas
          </button>

          <button
            type="button"
            class="sidebar__layer-btn"
            data-action="click->sidebar#selectLayer"
          >
            ğŸš¶ Accesibilidad
          </button>
        </div>
      </div>

      <div
        class="sidebar__section"
        data-sidebar-target="locateSection"
        hidden
      >
        <button
          type="button"
          class="sidebar__primary-btn"
        >
          ğŸ“ Localizar infraestructura
        </button>
      </div>



    <div class="sidebar__bottom">
      <button class="sidebar__link" type="button">
        <span class="sidebar__icon">âš™ï¸</span> ConfiguraciÃ³n
      </button>
      <button class="sidebar__link" type="button">
        <span class="sidebar__icon">â”</span> Ayuda
      </button>
    </div>
  </aside>

  <!-- BotÃ³n de colapsar -->
  <button
    class="sidebar__collapse"
    type="button"
    aria-label="Colapsar sidebar"
    data-action="click->sidebar#toggle"
    data-sidebar-target="toggle"
  >
    â€¹
  </button>

  <main class="map-area" data-sidebar-target="mapArea">
    <div
      id="map"
      class="map"
      data-controller="map"
      data-map-token-value="<%= ENV.fetch("MAPBOX_TOKEN", "") %>"
    ></div>
  </main>
</div>
